replicaCount: 1

# Main Application Image - use nginx for demo
image:
  repository: nginx
  tag: latest
  pullPolicy: IfNotPresent

# Image Pull Secrets for ACR
imagePullSecrets:
  - name: acr-secret

# Service Configuration
service:
  type: ClusterIP

# App Configuration
app:
  port: 8080
  env:
    ASPNETCORE_ENVIRONMENT: "Production"
    Aspire__MongoDB__Driver__ConnectionString: "mongodb://serviceexample-mongodb:27017"
    Aspire__StackExchange__Redis__ConnectionString: "serviceexample-redis-master:6379"
    Aspire__NATS__Net__ConnectionString: "nats://serviceexample-nats:4222"

# Resource Configuration
resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Auto-scaling Configuration
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80

# Dependencies Configuration - Use working public images
mongodb:
  enabled: true
  architecture: standalone
  auth:
    enabled: false
  persistence:
    enabled: false
  image:
    registry: docker.io
    repository: bitnami/mongodb
    tag: 5.0.20  # Use a version that exists

redis:
  enabled: true
  architecture: standalone
  auth:
    enabled: false
  master:
    persistence:
      enabled: false
  image:
    registry: docker.io
    repository: bitnami/redis
    tag: 7.2.4  # Use a version that exists

nats:
  enabled: true
  nats:
    image: nats:latest
  cluster:
    enabled: false
